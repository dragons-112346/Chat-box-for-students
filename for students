<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>LearnQuest â€“ Fun Learning Game</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: linear-gradient(#c7d2fe, #dcfce7);
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
}

.game {
  width: 540px;
  background: white;
  border-radius: 12px;
  box-shadow: 0 0 15px rgba(0,0,0,0.2);
  display: flex;
  flex-direction: column;
}

.top {
  background: #4338ca;
  color: white;
  padding: 10px;
  display: flex;
  justify-content: space-between;
}

.messages {
  height: 300px;
  overflow-y: auto;
  padding: 10px;
}

.bot, .user {
  margin: 6px 0;
  padding: 8px;
  border-radius: 6px;
}

.bot { background: #eef2ff; }
.user { background: #dcfce7; align-self: flex-end; }

.controls {
  display: flex;
  gap: 5px;
  padding: 5px;
}

input, select, button {
  padding: 8px;
  border: none;
}

button {
  background: #22c55e;
  color: white;
  cursor: pointer;
}

.store {
  border-top: 1px dashed #ccc;
  padding: 8px;
  background: #f9fafb;
  font-size: 13px;
}
.store button {
  background: #6366f1;
  margin: 2px;
}
</style>
</head>

<body>

<div class="game">
  <div class="top">
    <div>ğŸ§‘ LearnQuest</div>
    <div>ğŸª™ Coins: <span id="coins">0</span></div>
  </div>

  <div class="messages" id="messages"></div>

  <div class="controls">
    <select id="subject">
      <option value="">Subject</option>
      <option value="math">Math</option>
      <option value="science">Science</option>
    </select>
    <input id="input" placeholder="Type here..." />
    <button onclick="send()">Send</button>
  </div>

  <div class="store">
    <b>ğŸ¨ Character Store (20â€“50 coins)</b><br>
    <button onclick="buy('Hair Style',20)">Hair</button>
    <button onclick="buy('Eye Color',20)">Eyes</button>
    <button onclick="buy('Skin Color',20)">Skin</button>
    <button onclick="buy('Shirt',30)">Shirt</button>
    <button onclick="buy('Pants',30)">Pants</button>
    <button onclick="buy('Jewelry',20)">Jewelry</button>
    <button onclick="buy('Cool Outfit',50)">â­ Cool Outfit</button>
    <div id="owned"></div>
  </div>
</div>

<script>
const messages = document.getElementById("messages");
const input = document.getElementById("input");
const subjectSelect = document.getElementById("subject");
const coinsEl = document.getElementById("coins");
const ownedEl = document.getElementById("owned");

let coins = 0;
let owned = [];
let mode = "idle";
let step = 0;
let lesson = [];
let practice = [];
let practiceIndex = 0;

// ---------- CORE ----------
function addMessage(text, sender="bot") {
  const div = document.createElement("div");
  div.className = sender;
  div.innerText = text;
  messages.appendChild(div);
  messages.scrollTop = messages.scrollHeight;
}

function updateCoins() {
  coinsEl.innerText = coins;
}

function buy(item, cost) {
  if (coins >= cost && !owned.includes(item)) {
    coins -= cost;
    owned.push(item);
    ownedEl.innerText = "Owned: " + owned.join(", ");
    updateCoins();
    addMessage("ğŸ‰ You unlocked: " + item);
  } else {
    addMessage("âŒ Not enough coins or already owned.");
  }
}

// ---------- AI-LIKE TUTOR (OPTION 1) ----------
function startTour() {
  addMessage("ğŸ‘‹ Welcome to LearnQuest!");
  addMessage("ğŸ® Learn by playing games.");
  addMessage("ğŸª™ Earn coins by practicing.");
  addMessage("ğŸ¨ Customize your character.");
  addMessage("Type: TOUR, JOKE, RIDDLE, or GAMES");
}

const jokes = [
  "Why did the math book look sad? Too many problems! ğŸ˜„",
  "Why was six afraid of seven? Because seven eight nine! ğŸ˜‚",
  "Why did the student bring a ladder to school? To reach higher grades! ğŸ“š"
];

function tellJoke() {
  addMessage("ğŸ˜‚ " + jokes[Math.floor(Math.random() * jokes.length)]);
}

const riddles = [
  {q:"What has hands but canâ€™t clap?", a:"A clock â°"},
  {q:"What can you catch but not throw?", a:"A cold ğŸ¤§"},
  {q:"What has a face and two hands?", a:"A clock âŒš"}
];
let currentRiddle = null;

function tellRiddle() {
  currentRiddle = riddles[Math.floor(Math.random() * riddles.length)];
  addMessage("ğŸ§© Riddle: " + currentRiddle.q);
}

function showGames() {
  addMessage("ğŸ® Mini-Games:");
  addMessage("1ï¸âƒ£ Math Speed");
  addMessage("2ï¸âƒ£ Logic Quiz");
  addMessage("3ï¸âƒ£ Word Game");
}

// ---------- LEARNING ----------
function buildLesson() {
  lesson = [
    {q:"Step 1: What should you do first?", c:"A) Understand\nB) Guess\nC) Rush", a:"A"},
    {q:"Step 2: Best habit?", c:"A) Careful work\nB) Skip\nC) Copy", a:"A"}
  ];
  practice = [
    {q:"Practice 1:", c:"A) Think\nB) Skip\nC) Guess", a:"A"},
    {q:"Practice 2:", c:"A) Practice\nB) Avoid\nC) Quit", a:"A"},
    {q:"Practice 3:", c:"A) Learn\nB) Ignore\nC) Rush", a:"A"},
    {q:"Practice 4:", c:"A) Try\nB) Quit\nC) Skip", a:"A"},
    {q:"Practice 5:", c:"A) Correct\nB) Nothing\nC) Skip", a:"A"}
  ];
  mode = "lesson";
  step = 0;
  practiceIndex = 0;
  addMessage("ğŸ“š Lesson started!");
  addMessage(lesson[0].q);
  addMessage(lesson[0].c);
}

// ---------- INPUT ----------
function send() {
  const text = input.value.trim();
  if (!text) return;
  addMessage(text,"user");
  input.value = "";

  const cmd = text.toUpperCase();

  if (cmd === "TOUR") return startTour();
  if (cmd === "JOKE") return tellJoke();
  if (cmd === "RIDDLE") return tellRiddle();
  if (cmd === "GAMES") return showGames();

  if (mode === "idle") {
    buildLesson();
    return;
  }

  if (mode === "lesson") {
    if (cmd === lesson[step].a) {
      addMessage("âœ… Correct!");
      step++;
      if (step < lesson.length) {
        addMessage(lesson[step].q);
        addMessage(lesson[step].c);
      } else {
        mode = "practice";
        addMessage("ğŸ Lesson complete!");
        addMessage("ğŸ¯ Practice time! +10 coins each");
        addMessage(practice[0].q);
        addMessage(practice[0].c);
      }
    } else {
      addMessage("âŒ Try again. Think carefully.");
    }
  } else if (mode === "practice") {
    if (cmd === practice[practiceIndex].a) {
      coins += 10;
      updateCoins();
      addMessage("âœ… Correct! +10 coins ğŸª™");
    } else {
      addMessage("âŒ Incorrect.");
    }
    practiceIndex++;
    if (practiceIndex < practice.length) {
      addMessage(practice[practiceIndex].q);
      addMessage(practice[practiceIndex].c);
    } else {
      mode = "idle";
      addMessage("ğŸ‰ Practice complete! Keep playing!");
    }
  }
}

// Start with tour
startTour();
</script>

</body>
</html>
